<!doctype html>

<html lang="en">
{% load static %}

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

    <title>{{ticker}}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" integrity="sha384-W8fXfP3gkOKtndU4JGtKDvXbO53Wy8SZCQHczT5FMiiqmQfUpWbYdTil/SxwZgAN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.min.js" integrity="sha384-skAcpIdS7UcVUC05LJ9Dxay8AXcDYfBJqt1CJ85S/CFujBsIzCIv+l9liuYLaMQ/" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <style>
        {
            %block css %
        }
        
        {
            %endblock%
        }
        
        body {
            min-height: 100vh;
        }
        
        .sticky-footer {
            position: sticky;
            top: 100%;
        }
        
        a:hover {
            color: green;
        }
        
        .container1 {
            text-align: center;
            background: white;
        }
        
        .header {
            padding-top: 60px;
            color: #444;
            font-size: 20px;
            margin: auto;
            line-height: 50px;
        }
        
        .sub-container {
            max-width: 1200px;
            margin: auto;
            padding: 10px 0;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .pricedata {
            margin: 10px;
            padding: 22px;
            max-width: 30%;
            cursor: pointer;
            transition: 0.4s;
            box-sizing: border-box;
        }
        
        .pricedata:hover {
            background: #16161d;
            border-radius: 12px;
        }
        #bar:hover{
            background: #16161d;
            color: white;
        }
    </style>
</head>

<body style="background-color:black;">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#" style="color:yellow; padding:3px 3px 3px 3px;border: solid white 3px; border-radius: 25px;">EasyTrade</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active " aria-current="page" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/news" disabled>News</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/about" disabled>About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/contact" disabled>Contact Us</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="http://localhost:8501" disabled>Stock Prediction</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/index_learn" disabled>Learn Trading</a>

                </ul>
                <!--      {% comment %} <form class="d-flex">-->
                <!--        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">-->
                <!--        <button class="btn btn-outline-success" type="submit">Search</button>-->
                <!--      </form> {% endcomment %}-->
            </div>

            {% comment %}
            <!-- Button signup Modal -->
            <button type="button" class="btn btn-success mx-2" data-bs-toggle="modal" data-bs-target="#signupModal">
            signup
        </button>
            <!-- Button signup Modal -->
            <button type="button" class="btn btn-success mx-2" data-bs-toggle="modal" data-bs-target="#loginModal">
            login
        </button> {% endcomment %}
            <div class="ml-auto form-inline ">
                {% if user.is_authenticated %}
                <ul class="navbar-nav mr-2">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href='#' id="navbarDropdown" role="button" data-toggle="dropdown"> Welcome {{request.user}}</a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="/logout">Logout</a>

                        </div>
                    </li>
                </ul>
            </div>
            {% else %}
            <!-- Button to  trigger Login modal -->
            <button type="button" class="btn btn-success mr-2" data-toggle="modal" data-target="#loginModal">
Login
</button>

            <button type="button" class="btn btn-success mr-2" data-toggle="modal" data-target="#signupModal">
SignUp
</button> {% endif %}
        </div>


        <!-- signup Modal -->
        <div class="modal fade" id="signupModal" tabindex="-1" aria-labelledby="signupModal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="signupModal">signup now</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form action="/signup" method='post'>
                            <div class="form-group">
                                <label for="username">Username</label>
                                <input type="text" class="form-control" id="username" name="username" placeholder="Choose a unique username" required>
                            </div>
                            <div class="form-group">
                                <label for="fname">First Name</label>
                                <input type="text" class="form-control" id="fname" name="fname" placeholder="Enter Your First Name" required>
                            </div>
                            <div class="form-group">
                                <label for="lname">Last Name</label>
                                <input type="text" class="form-control" id="lname" name="lname" placeholder="Enter Your Last Name" required>
                            </div>
                            <div class="form-group">
                                <label for="email">Email address</label>
                                <input type="email" class="form-control" id="email" name="email" placeholder="name@example.com" required>
                            </div>
                            <div class="form-group">
                                <label for="pass1">Choose a password</label>
                                <input type="password" class="form-control" id="pass1" name="pass1" placeholder="Choose Your Password" required>
                            </div>
                            <div class="form-group">
                                <label for="pass2">Confirm Password</label>
                                <input type="password" class="form-control" id="pass2" name="pass2" placeholder="Enter your password again" required>
                            </div>
                            {% csrf_token %}
                            <button type="submit" class="btn btn-primary my-3">Submit</button>
                        </form>
                    </div>
                    <div class="modal-footer">

                        {% comment %}
                        <button type="button" class="btn btn-primary">Save changes</button> {% endcomment %}
                    </div>
                </div>
            </div>
        </div>
        <!-- login Modal -->
        <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="loginModal">login now</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form action="/login" method="POST">
                            {% csrf_token %}
                            <div class="form-group">
                                <label for="username">Username</label>
                                <input type="text" class="form-control" id="loginusername" name="loginusername" placeholder=" username" required>
                            </div>

                            <div class="form-group">
                                <label for="pass">Confirm Password</label>
                                <input type="password" class="form-control" id="loginpassword" name="loginpassword" placeholder="Enter your password " required>
                            </div>

                            <button type="submit" class="btn btn-primary my-3">Submit</button>
                        </form>
                    </div>
                    <div class="modal-footer">

                        {% comment %}
                        <button type="button" class="btn btn-primary">Save changes</button> {% endcomment %}
                    </div>
                </div>
            </div>
        </div>
        </div>
    </nav>


    {% block content %} 
<script>
    $(document).ready(function(){ 
        setInterval (function(){
            //$( "#here" ).load(window.location.href + " #here" );
            $("#data").fadeIn('slow').load(" #data > *").fadeOut('slow');
        },10000);
    });
</script>

    <div class="container1 mb-5" style="background-color: black;" id="data">
        <div class="header">
            <h1 style="color:yellow;">{{ companyName }}</h1>
        </div>
        <div class="sub-container">
            <div class="pricedata" style="color: white;">
                Price:{{ lastPrice }}₹<br> 
                Open Price:{{ open }}₹<br>
                Close Price:{{ previousClose }}₹<br> 
                Day High:{{ dayHigh }}₹<br>
                Day Low:{{ dayLow }}₹<br>
                52 Week High:{{ high52 }}₹<br> 
                52 Week Low:{{ low52 }}₹<br>
                Percent Change:{{ pChange }}%<br>
                Change : {{ change }}₹<br>
                Total Traded Volume:{{ totalTradedVolume }}₹<br>
            </div>
            <div class="pricedata" style="color: white;">
               
            </div>
        </div>


        
        <div style="margin-left:250px; margin-right:250px;margin-bottom:30px;">
            {{ candlestick | safe }}
        </div>

{% comment %} 
        <div style="margin-left:250px; margin-right:250px;margin-bottom:30px;">
            {{ heatmap | safe }}
        </div> {% endcomment %}


        
        <!-- <div style="margin-left:250px; margin-right:250px;">
            {{ barplot | safe }}
        </div> -->
        
    </div>


{% endblock %}




    <footer class="sticky-footer bg-dark" style="background-color: gray; text-align: center;">
        <!-- Grid container -->
        <div class="container p-4 pb-0">
            <!-- Section: Social media -->
            <section class="mb-4">
                <!-- Facebook -->
                <a class="btn btn-primary btn-floating m-1" style="background-color: #3b5998;" href="#!" role="button"><i class="fa fa-facebook"></i
            ></a>

                <!-- Twitter -->
                <a class="btn btn-primary btn-floating m-1" style="background-color: #55acee;" href="#!" role="button"><i class="fa fa-twitter"></i
            ></a>

                <!-- Google -->
                <a class="btn btn-primary btn-floating m-1" style="background-color: #dd4b39;" href="#!" role="button"><i class="fa fa-google"></i
            ></a>

                <!-- Instagram -->
                <a class="btn btn-primary btn-floating m-1" style="background-color: #ac2bac;" href="#!" role="button"><i class="fa fa-instagram"></i
            ></a>

                <!-- Linkedin -->
                <a class="btn btn-primary btn-floating m-1" style="background-color: #0082ca;" href="#!" role="button"><i class="fa fa-linkedin"></i
            ></a>
                <!-- Github -->
                <a class="btn btn-primary btn-floating m-1" style="background-color: #333333;" href="#!" role="button"><i class="fa fa-github"></i
            ></a>
            </section>
            <!-- Section: Social media -->
        </div>
        <!-- Grid container -->

        <!-- Copyright -->
        <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2); font-size:20px">
            © 2020 Copyright: all right reserverd
        </div>
        <!-- Copyright -->
    </footer>
    <!-- #colophon -->


    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js" integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js" integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc" crossorigin="anonymous"></script>
-->
</body>

</html>